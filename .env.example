# =========================
# Clash for Linux - Env Config Template
# =========================
# Usage:
# 1) Copy this file to .env: cp .env.example .env
# 2) Required: CLASH_URL
# 3) Optional: CLASH_SECRET
# 4) After modify: sudo clashctl restart
# =========================

# -------------------------
# 1) Subscription Config (Required)
# -------------------------

# Clash Subscription URL
# Example: export CLASH_URL='https://example.com/sub?token=xxx'
export CLASH_URL=''

# Subscription Headers (Optional)
export CLASH_HEADERS='User-Agent: ClashforWindows/0.20.39'

# Subscription Name (Optional)
export CLASH_SUBSCRIPTION=''

# -------------------------
# 2) API / Panel Security
# -------------------------

# Clash API Secret
# If empty, a random secret will be generated
export CLASH_SECRET=''

# Show secret in start output
CLASH_SHOW_SECRET=true
CLASH_SHOW_SECRET_MASKED=true

# External Controller (Clash RESTful API)
export EXTERNAL_CONTROLLER_ENABLED=true
export EXTERNAL_CONTROLLER='127.0.0.1:9090'

# -------------------------
# 3) Proxy Ports & Listening
# -------------------------

export CLASH_HTTP_PORT=7890
export CLASH_SOCKS_PORT=7891
export CLASH_REDIR_PORT=7892

# Listen IP
export CLASH_LISTEN_IP='127.0.0.1'

# Allow LAN
export CLASH_ALLOW_LAN=false

# -------------------------
# 4) Clash Binary (Advanced)
# -------------------------

# export CLASH_BIN='/path/to/clash'

# -------------------------
# 5) Mixin Config (Advanced)
# -------------------------

# export CLASH_MIXIN_PATHS='conf/mixin.d/base.yaml,conf/mixin.d/rules.yaml'
# export CLASH_MIXIN_DIR='conf/mixin.d'

# -------------------------
# 6) Tun Mode (Advanced, Requires Clash Meta / Premium)
# -------------------------

# export CLASH_TUN_ENABLE=false
# export CLASH_TUN_STACK=system
# export CLASH_TUN_AUTO_ROUTE=true
# export CLASH_TUN_AUTO_REDIRECT=false
# export CLASH_TUN_STRICT_ROUTE=false
# export CLASH_TUN_DEVICE=
# export CLASH_TUN_MTU=
# export CLASH_TUN_DNS_HIJACK='any:53'

# Subscription Converter
export SUBCONVERTER_URL="http://127.0.0.1:25500"
export SUBCONVERTER_READY="false"
